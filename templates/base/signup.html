{% extends "base/base.html" %}
{% load static %}
{% block title %}Skillence{% endblock title %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/signup.css' %}">
<div class="big-container">
    <div class="wrapper">
        <form id="signupForm" method='post'>
            {% csrf_token %} 
            <h1>Sign-up</h1>
            <div class="input-box">
                <input type="text" id="name" name="name" placeholder="Enter name" oninput="NameValidation()">
                <i class='bx bxs-leaf'></i>
                <small class="error" id="nameError"></small>
            </div>
            <div class="input-box">
                <input type="text" id="email" name="email" placeholder="Enter email" oninput="EmailValidation()">
                <i class='bx bxs-user'></i>
                <small class="error" id="emailError"></small>
            </div>
            <div class="input-box">
                <input type="password" name="password" id="password" placeholder="Enter password" oninput="PasswordValidation()"> 
                <i class='bx bxs-lock-open-alt'></i>
                <small class="error" id="passwordError"></small>
            </div>
            <div class="input-box">
                <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm password" oninput="ConfirmPasswordValidation()">
                <i class='bx bxs-lock-open-alt'></i>
                <small class="error" id="confirmPasswordError"></small>
            </div>
          <span id="loader" style="display: none;"><i class="fa fa-spinner fa-spin"></i> </span>
          <button id="save-button" type="button" class="btn">Submit</button>
            <div class="account">
                <label>Already have an account? <a href="{% url 'login' %}">Login</a></label>
            </div>
        </form>
    </div>
</div>
<script src={% static 'js/validation.js'%}> </script>
<script>
   

    document.getElementById('save-button').addEventListener('click', function(event) {
        event.preventDefault();
        alert("heoeooeoeoeeo");

        // Perform validations
        const isNameValid = NameValidation();
        const isEmailValid = EmailValidation();
        const isPasswordValid = PasswordValidation();
        const isConfirmPasswordValid = ConfirmPasswordValidation();

        console.log(isNameValid);
        console.log(isEmailValid);
        console.log(isPasswordValid);
        console.log(isConfirmPasswordValid);

        // If all validations pass, submit the form
        if (isNameValid && isEmailValid && isPasswordValid && isConfirmPasswordValid) {

            alert("i am in validate");
            document.getElementById("loader").style.display = "inline-block";
            document.getElementById("save-button").disabled = true;
            document.getElementById('signupForm').submit();

        }
    });
</script>
{% endblock %}
